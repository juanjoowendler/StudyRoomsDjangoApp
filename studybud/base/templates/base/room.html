{% extends "main.html" %} 
<!-- Template inheritance -->

{% block content %}

<div>    
  <h1>{{ room.name }}</h1>
  <p>{{ room.description }}</p>
  <div>
    <h2>Messages</h2>

    {% for message in room_messages %}
    <div>
      {% if user == message.user %}
        <a href="{% url 'delete-message' message.id %}">Delete</a>
      {% endif %}
      <small>@{{ message.user }} {{ message.created | timesince }} ago</small>
      <p>{{ message.body }}</p>
    </div>
    <hr />
    {% empty %}
    <p>No messages yet.</p>
    {% endfor %} {% if user.is_authenticated %}
    <div>
      <form method="POST">
        {% csrf_token %}
        <textarea
          name="body"
          placeholder="Enter your message here..."
        ></textarea>
        <button type="submit">Send</button>
      </form>
    </div>
    {% endif %}
  </div>

  <div>
    <h3>Participants</h3>
    <hr>
    {% for participant in participants %}
      <p>@{{ participant.username }}</p>
    {% endfor %}
  </div>

</div>
{% endblock %}
